\boxed{\text{移位相加乘法算法原理与实例解析}}

#### 一、算法核心思路
该伪代码实现了经典的 **移位相加乘法算法**，通过逐位处理乘数的二进制位完成乘法运算。以下是关键步骤解析：

---
**数据结构**：
- **high_product**：存储乘积的高位部分
- **low_product**：存储乘数及乘积的低位部分
- **multiplicand**：固定不变的被乘数

**算法流程**：
1. **循环控制**：对乘数的每一位进行遍历（64次迭代对应64位乘法）
2. **乘数位检测**：检查`low_product`的最低位（即当前处理的乘数位）
3. **条件加法**：若当前位为1，执行`high_product += multiplicand`
4. **联合右移**：将`{high_product, low_product}`整体逻辑右移1位，实现：
   - 将加法结果整合到乘积中
   - 为下一位运算腾出空间
   - 通过移位隐式处理进位

---
#### 二、实例演示（4位乘法：3 × 3 = 9）

**参数设定**：
- 被乘数 `multiplicand = 3 (0011)`
- 初始乘积寄存器：
  - `high_product = 0000`
  - `low_product = 0011`（存放乘数3）

**迭代过程**：

| 迭代 | 操作步骤                                                                 | 寄存器状态 (high:low)       |
|------|--------------------------------------------------------------------------|-----------------------------|
| 初始 | -                                                                       | `0000 0011`                 |
| 1    | 1. 检测到`low_product[0]=1`<br>2. `high += 3 → 0011`<br>3. 右移1位      | `0011 0011` → `0001 1001`   |
| 2    | 1. 检测到`low_product[0]=1`<br>2. `high += 3 → 0100`<br>3. 右移1位      | `0100 1001` → `0010 0100`   |
| 3    | 1. 检测到`low_product[0]=0`<br>2. 不加<br>3. 右移1位                   | `0010 0100` → `0001 0010`   |
| 4    | 1. 检测到`low_product[0]=0`<br>2. 不加<br>3. 右移1位                   | `0001 0010` → `0000 1001`   |

**最终结果**：`0000 1001`（十进制9）

---
#### 三、关键机制详解
1. **乘数位移处理**：
   - `low_product`初始存储乘数，每次右移将已处理的位丢弃，同时将新的乘数位移动到最低位
   - 示例中`0011 → 1001 → 0100 → 0010 → 0001`的演变过程

2. **进位隐式处理**：
   ```verilog
   // 加法后的右移操作自动处理进位
   {high, low} = {high_tmp, low} >> 1;
   ```
   - 当加法产生进位时，高位部分会自然扩展（如步骤2中`0011+0011=0110`，右移后高位正确捕获进位）

3. **被乘数位移等效性**：
   - 每次右移乘积寄存器等价于将被乘数左移对应位数
   - 示例中第1次加`0011`（3），第2次等效加`0110`（6），符合竖式乘法原理

---
#### 四、硬件实现优势
- **资源节约**：仅需1个加法器和移位电路，适合FPGA/ASIC实现
- **时序可控**：每周期完成1位处理，64位乘法固定64周期
- **面积优化**：相比组合逻辑乘法器，大幅减少门电路数量

---
#### 五、扩展应用
- **有符号数支持**：可通过补码运算和符号位扩展实现
- **流水线优化**：拆分加法与移位阶段提升吞吐量
- **Booth算法改进**：通过编码减少加法次数（此基础算法需n次加法，Booth可优化至n/2次）

通过这种清晰的位操作流程，算法在硬件层面高效地完成了大数乘法，是CPU乘法器设计的经典基础结构。